<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Wed May 03 22:04:44 AEST 2017 -->
<title>Promise (java-promises API)</title>
<meta name="date" content="2017-05-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Promise (java-promises API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../me/joeycumines/javapromises/core/MutatedStateException.html" title="class in me.joeycumines.javapromises.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../me/joeycumines/javapromises/core/PromiseApi.html" title="class in me.joeycumines.javapromises.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?me/joeycumines/javapromises/core/Promise.html" target="_top">Frames</a></li>
<li><a href="Promise.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">me.joeycumines.javapromises.core</div>
<h2 title="Interface Promise" class="title">Interface Promise&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../me/joeycumines/javapromises/v1/PromiseBase.html" title="class in me.joeycumines.javapromises.v1">PromiseBase</a>, <a href="../../../../me/joeycumines/javapromises/v1/PromiseRunnable.html" title="class in me.joeycumines.javapromises.v1">PromiseRunnable</a>, <a href="../../../../me/joeycumines/javapromises/v1/PromiseStage.html" title="class in me.joeycumines.javapromises.v1">PromiseStage</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Promise&lt;T&gt;</span></pre>
<div class="block">A "promise", the core concept of this class is based on the JavaScript ES6 promise implementation, with adaptions
 where necessary or where it made more sense. This interface has been optimised with the goal of a thin but extremely
 flexible, yet type safe and minimally opinionated implementation.
 <p>
 This library hopes to improve developer QoL by improving flexibility "out of the box", with minimal additional
 complexity, when writing code or libraries that require asynchronous operation. It is deliberately simplistic, in
 contrast to the somewhat similar, native Java 8 <code>CompletionStage</code> implementation.
 <p>
 A promise must have a state <a href="../../../../me/joeycumines/javapromises/core/PromiseState.html" title="enum in me.joeycumines.javapromises.core"><code>PromiseState</code></a>, and can be resolved at most <b>once</b>. A <code>PENDING</code> promise
 is considered unresolved, and may transition to either <code>FULFILLED</code>, on success, resolving with a value of
 either type <code>T</code> or <code>null</code>, OR it may resolve as <code>REJECTED</code> on failure, with a non-<code>null</code>
 <code>Throwable</code>.
 <p>
 When a promise changes from it's initial <code>PENDING</code> state, it <b>resolves</b>, which will cause it to either
 <b>fulfill</b> or <b>reject</b>, into either states <code>FULFILLED</code> or <code>REJECTED</code>, respectively. Naming a
 method or callback parameter "fulfill" implies it is an action that <b>can</b> be taken that will <b>always</b>
 resolve the promise as <code>FULFILLED</code>, unless an error occurs. The name "reject" follows the same guidelines, and
 the name "resolve" <b>should</b> have the possibility of performing either action, but <b>may</b> always fulfill.
 <p>
 When a promise's <b>value</b> is referred to, within this interface, it refers to <b>either</b> the <code>FULFILLED</code>
 value, returned by <a href="../../../../me/joeycumines/javapromises/core/Promise.html#thenSync--"><code>thenSync()</code></a>, for example, OR, if the promise <code>REJECTED</code>, it refers to a non-null
 <code>Throwable</code>, which could be accessed via <a href="../../../../me/joeycumines/javapromises/core/Promise.html#exceptSync--"><code>exceptSync()</code></a>. A <code>PENDING</code> promise has no value.
 <p>
 Promises should implement this interface in full, in whatever manner suits the application, in addition to a
 corresponding <a href="../../../../me/joeycumines/javapromises/core/PromiseFactory.html" title="interface in me.joeycumines.javapromises.core"><code>PromiseFactory</code></a>, which can be coupled with extending <a href="../../../../me/joeycumines/javapromises/core/PromiseApi.html" title="class in me.joeycumines.javapromises.core"><code>PromiseApi</code></a>. Doing this will allow
 the implementer to simply pass a factory/api instance into the provided abstract <code>PromiseTest</code>,
 <code>PromiseFactoryTest</code>, and <code>PromiseApiTest</code> classes, and run the provided JUnit 4 tests.
 <p>
 Beyond these guidelines there are no restrictions. It should be noted that this interface does not guarantee the
 execution order of (promise) state associated asynchronous code, like <code>CompletionStage</code>,
 and unlike the <a href="https://promisesaplus.com/">JavaScript A+ promise specification</a> (e.g. then callbacks).
 <p>
 All methods that are part of this interface <b>must</b> be thread-safe.
 <p>
 Note: It is part of the contract of this interface that no method may block unless the method name ends in "sync", OR
 due to an INTERNAL lock in place to allow thread-safety.
 <p>
 <b>If a <code>null</code> object argument is passed to any method, then a <code>NullPointerException</code> will be thrown.</b></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;U&gt;&nbsp;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;U&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../me/joeycumines/javapromises/core/Promise.html#always-java.util.function.BiFunction-">always</a></span>(java.util.function.BiFunction&lt;? super <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>,java.lang.Throwable,<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;? extends U&gt;&gt;&nbsp;callback)</code>
<div class="block">Specify a callback that will always run on resolution, or as soon as possible if <code>this</code> is already in
 a resolved state.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../me/joeycumines/javapromises/core/Promise.html#except-java.util.function.BiConsumer-">except</a></span>(java.util.function.BiConsumer&lt;java.lang.Throwable,java.util.function.Consumer&lt;? super <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>&gt;&gt;&nbsp;callback)</code>
<div class="block">Specify a callback to be run if this resolves with a failed state <code>REJECTED</code>, and return a new promise,
 that will fulfill with the value accepted within the callback, into it's second argument, a <code>Consumer</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../me/joeycumines/javapromises/core/Promise.html#except-java.util.function.Function-">except</a></span>(java.util.function.Function&lt;java.lang.Throwable,<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;? extends <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>&gt;&gt;&nbsp;callback)</code>
<div class="block">Specify a callback to be run if this resolves with a failed state <code>REJECTED</code>, and return a new promise,
 that will resolve with the same state and value as the callback's returned promise, <b>after</b> the callback
 promise resolves.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.Throwable</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../me/joeycumines/javapromises/core/Promise.html#exceptSync--">exceptSync</a></span>()</code>
<div class="block">Calling this method will block until the promise is resolved, returning a value if it resolved with
 <code>REJECTED</code>, otherwise returning <code>null</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../me/joeycumines/javapromises/core/PromiseState.html" title="enum in me.joeycumines.javapromises.core">PromiseState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../me/joeycumines/javapromises/core/Promise.html#getState--">getState</a></span>()</code>
<div class="block">Get the current state of the promise.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../me/joeycumines/javapromises/core/Promise.html#sync--">sync</a></span>()</code>
<div class="block">Calling this method will block the current thread until <code>this</code> is resolved (<b>not</b> <code>PENDING</code>).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;U&gt;&nbsp;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;U&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../me/joeycumines/javapromises/core/Promise.html#then-java.util.function.BiConsumer-">then</a></span>(java.util.function.BiConsumer&lt;? super <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>,java.util.function.Consumer&lt;? super U&gt;&gt;&nbsp;callback)</code>
<div class="block">Specify a callback to be run on successful resolution <code>FULFILLED</code> of this, and return a new promise,
 that will fulfill with the value accepted within the callback, into it's second argument, a <code>Consumer</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>&lt;U&gt;&nbsp;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;U&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../me/joeycumines/javapromises/core/Promise.html#then-java.util.function.Function-">then</a></span>(java.util.function.Function&lt;? super <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>,<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;? extends U&gt;&gt;&nbsp;callback)</code>
<div class="block">Specify a callback to be run on successful resolution <code>FULFILLED</code> of this, and return a new promise,
 that will resolve with the same state and value as the callback's returned promise, <b>after</b> the callback
 promise resolves.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../me/joeycumines/javapromises/core/Promise.html#thenSync--">thenSync</a></span>()</code>
<div class="block">Calling this method will block until the promise is resolved, returning a value if it resolved with
 <code>FULFILLED</code>, otherwise returning <code>null</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre><a href="../../../../me/joeycumines/javapromises/core/PromiseState.html" title="enum in me.joeycumines.javapromises.core">PromiseState</a>&nbsp;getState()</pre>
<div class="block">Get the current state of the promise.
 <p>
 A promise's initial state is <code>PENDING</code>, will change <b>at most</b> once, to either resolved states,
 <code>FULFILLED</code> or <code>REJECTED</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The state of the promise.</dd>
</dl>
</li>
</ul>
<a name="then-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>then</h4>
<pre>&lt;U&gt;&nbsp;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;U&gt;&nbsp;then(java.util.function.Function&lt;? super <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>,<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;? extends U&gt;&gt;&nbsp;callback)</pre>
<div class="block">Specify a callback to be run on successful resolution <code>FULFILLED</code> of this, and return a new promise,
 that will resolve with the same state and value as the callback's returned promise, <b>after</b> the callback
 promise resolves. The input parameter will be the <code>FULFILLED</code> value of <code>this</code>.
 <p>
 The callback will be run as soon as possible (but not inline) if <code>this</code> is already <code>FULFILLED</code>.
 <p>
 If the callback returns a <code>null</code> value, then the returned promise will resolve as <code>FULFILLED</code> with
 value <code>null</code>.
 <p>
 If an exception is thrown within the callback, then the returned promise will be <code>REJECTED</code>, with that
 exception.
 <p>
 If <code>this</code> resolved with the <code>REJECTED</code> state, then the returned promise will reflect the state and
 value of <code>this</code>, and the <b>callback will not be run</b>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>U</code> - The return type of the new promise, dictated by the callback promise's return type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - The operation which will be performed if <code>this</code> resolves successfully.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A promise which will resolve after the previous promise(s) AND any inner operations.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - If callback is null.</dd>
</dl>
</li>
</ul>
<a name="then-java.util.function.BiConsumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>then</h4>
<pre>&lt;U&gt;&nbsp;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;U&gt;&nbsp;then(java.util.function.BiConsumer&lt;? super <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>,java.util.function.Consumer&lt;? super U&gt;&gt;&nbsp;callback)</pre>
<div class="block">Specify a callback to be run on successful resolution <code>FULFILLED</code> of this, and return a new promise,
 that will fulfill with the value accepted within the callback, into it's second argument, a <code>Consumer</code>.
 <p>
 The callback will be run as soon as possible (but not inline) if <code>this</code> is already <code>FULFILLED</code>.
 <p>
 If no call is made to this second argument <b>within the callback</b>, then the resolved value of the returned
 promise will be <code>null</code>, and the state <code>FULFILLED</code>.
 <p>
 If <code>this</code> resolves as <code>REJECTED</code> <b>callback will not be called</b>, and the returned promise will
 reject with the same <code>Throwable</code>.
 <p>
 If an exception is thrown within the callback, then the returned promise will be <code>REJECTED</code> with that
 exception, <b>provided that it has not already resolved</b>.
 <p>
 For example:
 <pre>
     <code>
         Promise&lt;Integer&gt; input = // some async operation which eventually fulfills with int(5)
         Promise&lt;Integer&gt; output = input.then((inputValue, fulfill) -> fulfill.accept(inputValue + 10));
         // will output 15
         System.out.println(output.thenSync());
     </code>
 </pre></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>U</code> - The return type of the new promise.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - The operation which will be performed if the promise resolves successfully.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A promise which will resolve after the previous promise AND any inner operations.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - If callback is null.</dd>
</dl>
</li>
</ul>
<a name="except-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>except</h4>
<pre><a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>&gt;&nbsp;except(java.util.function.Function&lt;java.lang.Throwable,<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;? extends <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>&gt;&gt;&nbsp;callback)</pre>
<div class="block">Specify a callback to be run if this resolves with a failed state <code>REJECTED</code>, and return a new promise,
 that will resolve with the same state and value as the callback's returned promise, <b>after</b> the callback
 promise resolves. The input parameter will be the <code>REJECTED</code> value of <code>this</code> (a <code>Throwable</code>).
 <p>
 To preserve type safety, the returned type of promise within the callback is restricted to things which can be
 cast to the type of <code>T</code>, unlike <a href="../../../../me/joeycumines/javapromises/core/Promise.html#then-java.util.function.Function-"><code>then(Function)</code></a>, which can allow any type, due to the fact that the
 no-callback case will only ever result in a <code>Throwable</code>.
 <p>
 The callback will be run as soon as possible (but not inline) if <code>this</code> is already <code>REJECTED</code>.
 <p>
 If the callback returns a <code>null</code> value, then the returned promise will resolve as <code>FULFILLED</code> with
 value <code>null</code>.
 <p>
 If an exception is thrown within the callback, then the returned promise will be <code>REJECTED</code>, with that
 exception.
 <p>
 If <code>this</code> resolved with the <code>FULFILLED</code> state, then the returned promise will reflect the state and
 value of <code>this</code>, and the <b>callback will not be run</b>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - The operation which will be performed if the promise resolves exceptionally.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A promise which will resolve after the previous promise(s) AND any inner operations.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - If callback is null.</dd>
</dl>
</li>
</ul>
<a name="except-java.util.function.BiConsumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>except</h4>
<pre><a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>&gt;&nbsp;except(java.util.function.BiConsumer&lt;java.lang.Throwable,java.util.function.Consumer&lt;? super <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>&gt;&gt;&nbsp;callback)</pre>
<div class="block">Specify a callback to be run if this resolves with a failed state <code>REJECTED</code>, and return a new promise,
 that will fulfill with the value accepted within the callback, into it's second argument, a <code>Consumer</code>.
 <p>
 To preserve type safety, the type of fulfillment value within the callback is restricted, to things which can be
 cast to the type of <code>T</code>, unlike <a href="../../../../me/joeycumines/javapromises/core/Promise.html#then-java.util.function.BiConsumer-"><code>then(BiConsumer)</code></a>, which can allow any type, due to the fact that
 the no-callback case will only ever result in a <code>Throwable</code>.
 <p>
 The callback will be run as soon as possible (but not inline) if <code>this</code> is already <code>REJECTED</code>.
 <p>
 If no call is made to this second argument <b>within the callback</b>, then the resolved value of the returned
 promise will be <code>null</code>, and the state <code>FULFILLED</code>.
 <p>
 If <code>this</code> resolves as <code>FULFILLED</code> <b>callback will not be called</b>, and the returned promise will
 fulfill with the same value.
 <p>
 If an exception is thrown within the callback, then the returned promise will be <code>REJECTED</code> with that
 exception, <b>provided that it has not already resolved</b>.
 <p>
 For example:
 <pre>
     <code>
         Promise&lt;Object&gt; input = // some async operation which eventually rejects with an exception
         Promise&lt;Object&gt; output = input.except((exception, fulfill) -> fulfill.accept(exception));
         // will output the string representation of the FULFILLED exception originally REJECTED by input
         System.out.println(output.thenSync());
     </code>
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - The operation which will be performed if the promise resolves exceptionally.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A promise which will resolve after the previous promise AND any inner operations.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - If callback is null.</dd>
</dl>
</li>
</ul>
<a name="always-java.util.function.BiFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>always</h4>
<pre>&lt;U&gt;&nbsp;<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;U&gt;&nbsp;always(java.util.function.BiFunction&lt;? super <a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>,java.lang.Throwable,<a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="interface in me.joeycumines.javapromises.core">Promise</a>&lt;? extends U&gt;&gt;&nbsp;callback)</pre>
<div class="block">Specify a callback that will always run on resolution, or as soon as possible if <code>this</code> is already in
 a resolved state. Returns a new promise, that will resolve with the same state and value as the callback's return
 value (a promise), <b>after</b> the returned promise resolves.
 <p>
 The right input parameter will be the <code>REJECTED</code> exception (not <code>null</code>), if <code>this</code> rejected,
 otherwise it can be assumed that the state was <code>FULFILLED</code>, and the left input parameter will be set, if
 the fulfillment value was non-null.
 <p>
 The callback will be run as soon as possible (but not inline) if <code>this</code> is already resolved.
 <p>
 If the callback returns a <code>null</code> value, then the returned promise will resolve as <code>FULFILLED</code> with
 value <code>null</code>.
 <p>
 If an exception is thrown within the callback, then the returned promise will be <code>REJECTED</code>, with that
 exception.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>U</code> - The return type of the new promise, dictated by the callback promise's return type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - The operation to perform when the promise resolves.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A promise which will resolve after the previous promise AND any inner operations.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - If callback is null.</dd>
</dl>
</li>
</ul>
<a name="sync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sync</h4>
<pre>void&nbsp;sync()</pre>
<div class="block">Calling this method will block the current thread until <code>this</code> is resolved (<b>not</b> <code>PENDING</code>).
 <p>
 All responsibility for sane use of this method lies with the caller.</div>
</li>
</ul>
<a name="thenSync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>thenSync</h4>
<pre><a href="../../../../me/joeycumines/javapromises/core/Promise.html" title="type parameter in Promise">T</a>&nbsp;thenSync()</pre>
<div class="block">Calling this method will block until the promise is resolved, returning a value if it resolved with
 <code>FULFILLED</code>, otherwise returning <code>null</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The resolved value, or <code>null</code> if <code>REJECTED</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../me/joeycumines/javapromises/core/Promise.html#sync--"><code>sync()</code></a></dd>
</dl>
</li>
</ul>
<a name="exceptSync--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>exceptSync</h4>
<pre>java.lang.Throwable&nbsp;exceptSync()</pre>
<div class="block">Calling this method will block until the promise is resolved, returning a value if it resolved with
 <code>REJECTED</code>, otherwise returning <code>null</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The reason for rejection, or <code>null</code> if <code>FULFILLED</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../me/joeycumines/javapromises/core/Promise.html#sync--"><code>sync()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../me/joeycumines/javapromises/core/MutatedStateException.html" title="class in me.joeycumines.javapromises.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../me/joeycumines/javapromises/core/PromiseApi.html" title="class in me.joeycumines.javapromises.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?me/joeycumines/javapromises/core/Promise.html" target="_top">Frames</a></li>
<li><a href="Promise.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
